(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{xgC7:function(n,t,i){"use strict";i.r(t),i.d(t,"FrequentlyModule",(function(){return L}));var e=i("ofXK"),o=i("tyNb"),c=i("mrSG"),r=i("AxTH"),s=i("SJX6"),l=i("fXoL"),p=i("u7Cp"),a=i("A8Ym"),b=i("PScX"),d=i("dEAy"),u=i("qAZ0"),g=i("B+r4"),h=i("OzZK"),z=i("RwU8"),f=i("C2AL"),m=i("FwiY"),y=i("i0hO");const v=function(n){return{"background-color":n}},x=function(n){return{color:n}};function A(n,t){if(1&n){const n=l.Vb();l.Ub(0,"div",17),l.bc("click",(function(){l.xc(n);const i=t.$implicit;return l.fc(2).deleteFrequently(i)})),l.Ub(1,"div",18),l.ec(),l.Ub(2,"svg",19),l.Pb(3,"use"),l.Tb(),l.dc(),l.Pb(4,"img",20),l.Ub(5,"div",21),l.Jc(6),l.Tb(),l.Tb(),l.Tb()}if(2&n){const n=t.$implicit;l.nc("nzSpan",2)("nzXXl",2)("nzXl",3)("nzLg",3)("nzMd",3),l.Ab(1),l.nc("ngStyle",l.rc(9,v,n.background)),l.Ab(2),l.Bb("href",n.icon,null,"xlink"),l.Ab(2),l.nc("ngStyle",l.rc(11,x,n.color)),l.Ab(1),l.Kc(n.name)}}function T(n,t){1&n&&(l.Ub(0,"div",22),l.Pb(1,"img",23),l.Tb()),2&n&&l.nc("nzSpan",2)("nzXXl",2)("nzXl",3)("nzLg",3)("nzMd",3)}function w(n,t){if(1&n&&(l.Ub(0,"div",14),l.Hc(1,A,7,13,"div",15),l.Hc(2,T,2,5,"div",16),l.Tb()),2&n){const n=l.fc();l.nc("nzGutter",8),l.Ab(1),l.nc("ngForOf",n.the_CommonlyApp),l.Ab(1),l.nc("ngIf",0==n.the_CommonlyApp.length)}}function S(n,t){if(1&n){const n=l.Vb();l.Ub(0,"div",24),l.Ub(1,"div",25),l.Ub(2,"button",26),l.bc("click",(function(){return l.xc(n),l.fc().handleCancel()})),l.Jc(3,"\u5426"),l.Tb(),l.Ub(4,"button",27),l.bc("click",(function(){return l.xc(n),l.fc().handleOk()})),l.Jc(5,"\u662f"),l.Tb(),l.Tb(),l.Tb()}2&n&&(l.Ab(1),l.nc("nzSpan",24))}function _(n,t){1&n&&(l.ec(),l.dc(),l.Pb(0,"img",40))}function U(n,t){1&n&&(l.ec(),l.dc(),l.Pb(0,"img",20))}function O(n,t){if(1&n){const n=l.Vb();l.Ub(0,"div",37),l.bc("click",(function(){l.xc(n);const i=t.$implicit;return l.fc(4).selectFrequently(i)})),l.Ub(1,"div",18),l.ec(),l.Ub(2,"svg",19),l.Pb(3,"use"),l.Tb(),l.Hc(4,_,1,0,"img",38),l.Hc(5,U,1,0,"img",39),l.dc(),l.Ub(6,"div",21),l.Jc(7),l.Tb(),l.Tb(),l.Tb()}if(2&n){const n=t.$implicit;l.nc("nzSpan",6)("nzXXl",6)("nzXl",8)("nzLg",8)("nzMd",8),l.Ab(1),l.nc("ngStyle",l.rc(11,v,n.background)),l.Ab(2),l.Bb("href",n.icon,null,"xlink"),l.Ab(1),l.nc("ngIf",!n.selected),l.Ab(1),l.nc("ngIf",n.selected),l.Ab(1),l.nc("ngStyle",l.rc(13,x,n.color)),l.Ab(1),l.Kc(n.name)}}function X(n,t){if(1&n&&(l.Ub(0,"div",33),l.Ub(1,"div",3),l.Jc(2),l.Tb(),l.Ub(3,"div",34),l.Ub(4,"div",35),l.Hc(5,O,8,15,"div",36),l.Tb(),l.Tb(),l.Tb()),2&n){const n=t.$implicit;l.Ab(1),l.nc("nzSpan",24),l.Ab(1),l.Kc(n.appGroupName),l.Ab(1),l.nc("nzSpan",24),l.Ab(1),l.nc("nzGutter",8),l.Ab(1),l.nc("ngForOf",n.appList)}}function C(n,t){if(1&n&&(l.Ub(0,"div",30),l.Ub(1,"div",31),l.Hc(2,X,6,5,"div",32),l.Tb(),l.Tb()),2&n){const n=t.$implicit;l.nc("nzSpan",8),l.Ab(2),l.nc("ngForOf",n.item)}}function I(n,t){if(1&n&&(l.Ub(0,"div",28),l.Hc(1,C,3,2,"div",29),l.Tb()),2&n){const n=l.fc();l.nc("nzGutter",16),l.Ab(1),l.nc("ngForOf",n.view_data_app)}}function k(n,t){1&n&&l.Pb(0,"app-empty")}const F=[{path:"",component:(()=>{class n{constructor(n,t,i,e,o){this.ym=n,this.storage=t,this.message=i,this.modal=e,this.router=o,this.functinView_Data=[],this.userInfo=new s.b,this.view_data_app=[],this.the_CommonlyApp=[],this.isSpinning=!1,this.isVisibleTop=!1,this.userRole=this.storage.get("USER_ROLE"),this.userInfo=this.storage.get("USER_INFO")}ngOnInit(){this.load()}load(){return Object(c.a)(this,void 0,void 0,(function*(){this.isSpinning=!0;let n=[];this.userRole&&(yield this.ym.get_commonly_app(this.userInfo.userID,this.userRole.roleID).then(t=>{this.the_CommonlyApp=t.data,this.the_CommonlyApp&&this.the_CommonlyApp.forEach(t=>{t.icon="#"+t.icon,t.color="#"+t.color,t.background=t.color+"14",n.push(t.id)})}),yield this.ym.getApp(this.userRole.roleID).then(t=>{this.functinView_Data=t.data,this.functinView_Data&&(this.functinView_Data.forEach(t=>{t.appList.forEach(t=>{n.find(n=>n==t.id)&&(t.selected=!0),t.icon="#"+t.icon,t.color="#"+t.color,t.background=t.color+"14"})}),this.functinView_Data.forEach((n,t)=>{let i=t%3,e=this.view_data_app.find(n=>n.index==i);if(e&&null!=e)e.item.push(n);else{let t=new r.b;t.index=i;let e=[];e.push(n),t.item=e,this.view_data_app.push(t)}}))})),this.isSpinning=!1}))}selectFrequently(n){return Object(c.a)(this,void 0,void 0,(function*(){let t=this.the_CommonlyApp.findIndex(t=>t.id==n.id);if(t>-1)n.selected=!1,this.the_CommonlyApp.splice(t,1);else{if(10==this.the_CommonlyApp.length)return this.message.warning("\u5e38\u7528\u529f\u80fd\u4e0d\u80fd\u8d85\u8fc710\u4e2a!"),!1;n.selected=!0;let t=new r.a;t.color=n.color,t.description=n.description,t.groupId=n.groupId,t.groupSort=n.groupSort,t.groupName=n.groupName,t.icon=n.icon,t.id=n.id,t.isMobile=n.isMobile,t.name=n.name,t.openType=n.openType,t.sort=n.sort,t.url=n.url,t.background=n.background,this.the_CommonlyApp.push(t)}}))}handleOk(){return Object(c.a)(this,void 0,void 0,(function*(){this.router.navigate(["app"]),this.isVisibleTop=!1}))}handleCancel(){return Object(c.a)(this,void 0,void 0,(function*(){this.isVisibleTop=!1}))}deleteFrequently(n){return Object(c.a)(this,void 0,void 0,(function*(){let t=this.the_CommonlyApp.findIndex(t=>t.id==n.id);this.view_data_app.forEach(t=>{t.item.forEach(t=>{let i=t.appList.find(t=>t.id==n.id);i&&(i.selected=!1)})}),this.the_CommonlyApp.splice(t,1)}))}saveFrequently(){return Object(c.a)(this,void 0,void 0,(function*(){this.isSpinning=!0;let n=[];this.the_CommonlyApp.forEach(t=>{n.push(t.id)}),yield this.ym.set_commonly_app(this.userInfo.userID,this.userRole.roleID,n).then(n=>{0==n.Code?this.isVisibleTop=!0:this.message.error(n.Msg)}),this.isSpinning=!1}))}}return n.\u0275fac=function(t){return new(t||n)(l.Ob(p.a),l.Ob(a.a),l.Ob(b.b),l.Ob(d.e),l.Ob(o.d))},n.\u0275cmp=l.Ib({type:n,selectors:[["app-frequently"]],decls:19,vars:9,consts:[[3,"nzSpinning","nzDelay"],[2,"padding","16px"],["nz-row","",1,"inner-box"],["nz-col","",1,"text-left","ym-padding-1","view-title",3,"nzSpan"],["nz-col","",1,"text-right","ym-padding-1","view-title",3,"nzSpan"],["nz-button","","nzType","default","nzShape","round",3,"click"],["nz-button","","nzType","primary","nzShape","round",1,"ml20",3,"click"],["nz-icon","","nzType","save","nzTheme","outline"],[1,"inner-box","bgfff",2,"padding","10px","min-height","106px"],["nz-row","",3,"nzGutter",4,"ngIf"],["nzClosable","false","nzTitle","\u6e29\u99a8\u63d0\u793a",3,"nzVisible","nzFooter","nzVisibleChange"],["footerTemplate",""],["nzAlign","top","nz-row","","style","padding: 16px;",3,"nzGutter",4,"ngIf"],[4,"ngIf"],["nz-row","",3,"nzGutter"],["style","margin-bottom: 5px;","nz-col","",3,"nzSpan","nzXXl","nzXl","nzLg","nzMd","click",4,"ngFor","ngForOf"],["nz-col","","style","margin-bottom: 5px;",3,"nzSpan","nzXXl","nzXl","nzLg","nzMd",4,"ngIf"],["nz-col","",2,"margin-bottom","5px",3,"nzSpan","nzXXl","nzXl","nzLg","nzMd","click"],[1,"inner-box","text-center",2,"cursor","pointer",3,"ngStyle"],["aria-hidden","true",1,"icon",2,"font-size","48px"],["src","assets/images/delete.png",1,"caozuo"],[1,"text-nowrap",3,"ngStyle"],["nz-col","",2,"margin-bottom","5px",3,"nzSpan","nzXXl","nzXl","nzLg","nzMd"],["src","assets/images/frequently.png",2,"height","86px"],["nz-row",""],["nz-col","",1,"text-right",3,"nzSpan"],["nz-button","","nzType","default",1,"width","btn","small",3,"click"],["nz-button","","nzType","primary",1,"width","btn","small",3,"click"],["nzAlign","top","nz-row","",2,"padding","16px",3,"nzGutter"],["nz-col","",3,"nzSpan",4,"ngFor","ngForOf"],["nz-col","",3,"nzSpan"],[1,"inner-box"],["nz-row","","style","padding: 5px;",4,"ngFor","ngForOf"],["nz-row","",2,"padding","5px"],["nz-col","",1,"bgfff","text-left","hover","border-radius","ym-padding-1",3,"nzSpan"],["nz-row","",1,"text-center",3,"nzGutter"],["nz-col","","style","padding: 5px;",3,"nzSpan","nzXXl","nzXl","nzLg","nzMd","click",4,"ngFor","ngForOf"],["nz-col","",2,"padding","5px",3,"nzSpan","nzXXl","nzXl","nzLg","nzMd","click"],["class","caozuo","src","assets/images/add.png",4,"ngIf"],["class","caozuo","src","assets/images/delete.png",4,"ngIf"],["src","assets/images/add.png",1,"caozuo"]],template:function(n,t){if(1&n&&(l.Ub(0,"nz-spin",0),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Ub(3,"div",3),l.Jc(4,"\u5e38\u7528\u529f\u80fd"),l.Tb(),l.Ub(5,"div",4),l.Ub(6,"button",5),l.bc("click",(function(){return t.handleOk()})),l.Jc(7,"\u8fd4\u56de"),l.Tb(),l.Ub(8,"button",6),l.bc("click",(function(){return t.saveFrequently()})),l.Pb(9,"i",7),l.Jc(10,"\u4fdd\u5b58"),l.Tb(),l.Tb(),l.Tb(),l.Ub(11,"div",8),l.Hc(12,w,3,3,"div",9),l.Tb(),l.Tb(),l.Ub(13,"nz-modal",10),l.bc("nzVisibleChange",(function(n){return t.isVisibleTop=n})),l.Jc(14," \u5e38\u7528\u529f\u80fd\u8bbe\u7f6e\u5b8c\u6210!\u662f\u5426\u79bb\u5f00\u8bbe\u7f6e? "),l.Hc(15,S,6,1,"ng-template",null,11,l.Ic),l.Tb(),l.Hc(17,I,2,2,"div",12),l.Tb(),l.Hc(18,k,1,0,"app-empty",13)),2&n){const n=l.wc(16);l.nc("nzSpinning",t.isSpinning)("nzDelay",500),l.Ab(3),l.nc("nzSpan",12),l.Ab(2),l.nc("nzSpan",12),l.Ab(7),l.nc("ngIf",t.the_CommonlyApp),l.Ab(1),l.nc("nzVisible",t.isVisibleTop)("nzFooter",n),l.Ab(4),l.nc("ngIf",t.view_data_app.length>0),l.Ab(1),l.nc("ngIf",0==t.functinView_Data.length)}},directives:[u.a,g.c,g.a,h.a,z.a,f.a,m.a,e.m,d.a,e.l,e.n,y.a],styles:["*[_ngcontent-%COMP%]{font-size:.7rem}.view-title[_ngcontent-%COMP%]{color:#1982ff;font-size:18px;font-weight:700;padding:10px 0}.hover[_ngcontent-%COMP%]:hover{cursor:pointer;border-color:transparent;box-shadow:0 1px 2px -2px rgba(0,0,0,.16),0 3px 6px 0 rgba(0,0,0,.12),0 5px 12px 4px rgba(0,0,0,.09)}.border-radius[_ngcontent-%COMP%]{border-radius:12px}.caozuo[_ngcontent-%COMP%]{height:25px;position:absolute;top:0;right:0}"]}),n})()}];let M=(()=>{class n{}return n.\u0275mod=l.Mb({type:n}),n.\u0275inj=l.Lb({factory:function(t){return new(t||n)},imports:[[o.g.forChild(F)],o.g]}),n})();var V=i("xuvC");let L=(()=>{class n{}return n.\u0275mod=l.Mb({type:n}),n.\u0275inj=l.Lb({factory:function(t){return new(t||n)},imports:[[e.c,M,V.a]]}),n})()}}]);